#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit hooks..."
echo ""

# Step 1: Run lint-staged for formatting and linting
echo "1ï¸âƒ£  Linting and formatting staged files..."
npx --no -- lint-staged
if [ $? -ne 0 ]; then
  echo "âŒ Lint-staged failed"
  exit 1
fi
echo "âœ… Lint-staged passed"
echo ""

# Step 2: Run type-check on staged files
echo "2ï¸âƒ£  Type-checking..."
npx --no -- tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ Type-check failed"
  exit 1
fi
echo "âœ… Type-check passed"
echo ""

echo "âœ¨ All pre-commit hooks passed!"
